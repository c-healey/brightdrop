{"version":3,"sources":["actions/types.js","reducers/authReducer.js","reducers/index.js","Root.js","components/GoogleAuth.js","actions/index.js","components/Header.js","data/fleetData.js","components/fleet/Vehicle.js","components/fleet/Map.js","components/App.js","index.js"],"names":["SIGN_IN","SIGN_OUT","INITIAL_STATE","isSignedIn","userId","authReducer","state","action","type","payload","combineReducers","auth","Root","props","store","createStore","reducers","children","GoogleAuth","onAuthChange","signIn","currentUser","get","getId","signOut","onSignInClick","onSignOutClick","window","addEventListener","event","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","this","className","onClick","renderAuthButton","React","Component","connect","Header","src","alt","Regions","NorthEast","latlng","fleet","name","id","tripLog","charge","NorthWest","SouthEast","SouthWest","Vehicle","vehicle","class","replace","_marker","timer","_setCurrentTripDetail","routeIndex","console","log","chargeLevelClass","_getChargeLevelClass","gradient","Math","floor","description","getDescription","chargeLevel","Map","_loadMap","L","map","setView","tileLayer","attribution","addTo","on","mapE","lat","lng","renderMarker","_renderFleet","LeafIcon","Icon","extend","options","shadowUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","document","querySelector","_getPosition","remove","forEach","veh","fleetVehicle","_renderFleetUpdates","bdPinIcon","iconUrl","marker","icon","bindPopup","popup","maxWidth","minWidth","autoClose","closeOnClick","setPopupContent","length","openPopup","html","_renderListItem","insertAdjacentHTML","innerHTML","timerId","setInterval","renderVehicleToList","setLatLng","_renderUpdateToList","clearInterval","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.e8e0af84.chunk.js","sourcesContent":["export const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\r\n\r\nconst INITIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null,\r\n};\r\nconst authReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userId: action.payload };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userId: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default authReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n});\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore } from \"redux\";\r\nimport reducers from \"./reducers\";\r\n// import { createStore, applyMiddleware, compose } from \"redux\";\r\n// import reduxThunk from \"redux-thunk\";\r\nconst Root = (props) => {\r\n  return (\r\n    <Provider store={createStore(reducers, {})}>{props.children}</Provider>\r\n  );\r\n};\r\nexport default Root;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { signIn, signOut } from \"../actions\";\r\n\r\nclass GoogleAuth extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"load\", (event) => {\r\n      window.gapi.load(\"client:auth2\", () => {\r\n        window.gapi.client\r\n          .init({\r\n            clientId:\r\n              \"1036837016251-dvqb16dmo47obs19s1cpoo2kai7qg04t.apps.googleusercontent.com\",\r\n            scope: \"email\",\r\n          })\r\n          .then(() => {\r\n            this.auth = window.gapi.auth2.getAuthInstance();\r\n            this.onAuthChange(this.auth.isSignedIn.get());\r\n            this.auth.isSignedIn.listen(this.onAuthChange);\r\n          });\r\n      });\r\n    });\r\n  }\r\n\r\n  onAuthChange = (isSignedIn) => {\r\n    if (isSignedIn) {\r\n      this.props.signIn(this.auth.currentUser.get().getId());\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n  renderAuthButton() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button className=\"ui red google button\" onClick={this.onSignOutClick}>\r\n          <i className=\"google icon\" />\r\n          Sign Out\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button className=\"ui red google button\" onClick={this.onSignInClick}>\r\n          <i className=\"google icon\" />\r\n          Sign In with Google\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.renderAuthButton()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isSignedIn: state.auth.isSignedIn,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\r\n","// import { Router } from \"react-router-dom\";\r\n\r\nimport { SIGN_IN, SIGN_OUT } from \"./types\";\r\n\r\nexport const signIn = (userId) => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId,\r\n  };\r\n};\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT,\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\nimport GoogleAuth from \"./GoogleAuth\";\r\nimport \"./Header.css\";\r\n\r\nconst Header = () => {\r\n  // bd_nav\r\n  return (\r\n    <div className=\"ui huge menu top  fixed inverted stackable bd_nav\">\r\n      <div className=\"\">\r\n        <img src=\"/brightdrop/logo.svg\" alt=\"BrightDrop\" />\r\n      </div>\r\n\r\n      <div className=\"right menu\">\r\n        <div className=\"item\">\r\n          <GoogleAuth />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Header;\r\n","const earth = {\r\n  name: \"Planet Earth\",\r\n  id: 4,\r\n  tripLog: [\r\n    { charge: 100, latlng: [41.81840820614331, -83.43017578125001] },\r\n    { charge: 95, latlng: [42.26917949243506, -83.13354492187501] },\r\n    { charge: 90, latlng: [42.21224516288584, -83.49609375000001] },\r\n    { charge: 85, latlng: [42.25291778330197, -84.03442382812501] },\r\n    { charge: 80, latlng: [42.261049162113856, -84.67163085937501] },\r\n    { charge: 75, latlng: [42.26917949243506, -85.2099609375] },\r\n    { charge: 70, latlng: [42.19596877629178, -85.78125] },\r\n    { charge: 65, latlng: [42.13896840458089, -86.33056640625] },\r\n    { charge: 60, latlng: [41.83682786072714, -86.59423828125001] },\r\n    { charge: 55, latlng: [41.64828831259535, -86.79199218750001] },\r\n    { charge: 50, latlng: [41.5579215778042, -87.09960937500001] },\r\n    { charge: 45, latlng: [41.566141964768384, -87.40722656250001] },\r\n    { charge: 40, latlng: [41.73033005046653, -87.65991210937501] },\r\n    { charge: 25, latlng: [41.792816561051815, -87.63107299804689] },\r\n    { charge: 20, latlng: [41.86649282301996, -87.64892578125] },\r\n    { charge: 15, latlng: [41.87569639323103, -87.62008666992189] },\r\n  ],\r\n};\r\nconst groundControl = {\r\n  name: \"Ground Control\",\r\n  id: 1,\r\n  tripLog: [\r\n    { charge: 100, latlng: [42.16340342422403, -83.25439453125001] },\r\n    { charge: 95, latlng: [41.78769700539063, -83.32031250000001] },\r\n    { charge: 90, latlng: [41.393294288784894, -83.58398437500001] },\r\n    { charge: 85, latlng: [40.91351257612758, -83.64990234375001] },\r\n    { charge: 80, latlng: [40.68063802521456, -83.21044921875001] },\r\n    { charge: 75, latlng: [40.36328834091583, -83.03466796875001] },\r\n    { charge: 70, latlng: [40.01078714046552, -83.07861328125001] },\r\n    { charge: 65, latlng: [39.87601941962116, -83.03466796875001] },\r\n    { charge: 60, latlng: [39.85915479295669, -83.34228515625] },\r\n    { charge: 55, latlng: [39.825413103424786, -84.08935546875001] },\r\n    { charge: 50, latlng: [39.791654835253425, -84.79248046875001] },\r\n    { charge: 45, latlng: [39.791654835253425, -85.49560546875001] },\r\n    { charge: 40, latlng: [39.791654835253425, -86.15478515625001] },\r\n  ],\r\n};\r\n\r\nconst majorTom = {\r\n  name: \"Major Tom\",\r\n  id: 1,\r\n  tripLog: [\r\n    { latlng: [42.32504712815144, -83.04840087890626], charge: 100 },\r\n    { latlng: [42.36108082586396, -83.0229949951172], charge: 95 },\r\n    { latlng: [42.40013627993724, -82.99827575683595], charge: 90 },\r\n    { latlng: [42.430552260619564, -82.97836303710939], charge: 85 },\r\n    { latlng: [42.445754718858524, -82.96737670898439], charge: 80 },\r\n    { latlng: [42.44474133638783, -83.023681640625], charge: 75 },\r\n    { latlng: [42.44372793752476, -83.10401916503908], charge: 70 },\r\n    { latlng: [42.44524802967223, -83.15895080566408], charge: 65 },\r\n    { latlng: [42.44220780849451, -83.21319580078126], charge: 60 },\r\n    { latlng: [42.44271452226932, -83.2592010498047], charge: 55 },\r\n    { latlng: [42.44068764258161, -83.28872680664064], charge: 50 },\r\n    { latlng: [42.43866069732511, -83.32168579101562], charge: 45 },\r\n    { latlng: [42.42447024463857, -83.27980041503906], charge: 40 },\r\n    { latlng: [42.40824865050679, -83.2427215576172], charge: 35 },\r\n    { latlng: [42.397093870535514, -83.2159423828125], charge: 30 },\r\n    { latlng: [42.386951440524854, -83.19053649902345], charge: 25 },\r\n    { latlng: [42.376300125104024, -83.16375732421876], charge: 20 },\r\n    { latlng: [42.36209556053167, -83.13011169433594], charge: 15 },\r\n    { latlng: [42.3529623585569, -83.1053924560547], charge: 10 },\r\n    { latlng: [42.33875251709215, -83.06900024414064], charge: 5 },\r\n  ],\r\n};\r\n\r\nconst NorthEastFleet =\r\n  // [DetChi];\r\n  [majorTom, groundControl, earth];\r\nexport const Regions = {\r\n  NorthEast: {\r\n    latlng: [42.32504712815144, -83.04840087890626],\r\n    fleet: NorthEastFleet,\r\n  },\r\n  NorthWest: { latlng: [0.68932225997044, -111.33544921875001], fleet: [] },\r\n  SouthEast: { latlng: [797408767572485, -90.41748046875001], fleet: [] },\r\n  SouthWest: { latlng: [77771580360469, -110.830078125], fleet: [] },\r\n};\r\n","class Vehicle {\r\n  constructor(vehicle) {\r\n    this.tripLog = vehicle.tripLog;\r\n    this.name = vehicle.name;\r\n    this.id = vehicle.id;\r\n    this.class = `${this.name}-${this.id}`.replace(/\\s/g, \"-\");\r\n    this._marker = {};\r\n    this.timer = null;\r\n    this._setCurrentTripDetail(0);\r\n  }\r\n  _setCurrentTripDetail(routeIndex) {\r\n    console.log(\"set trip detail\", routeIndex, this.charge, this.tripLog);\r\n    this.routeIndex = routeIndex;\r\n    this.charge = this.tripLog[routeIndex].charge;\r\n    this.latlng = this.tripLog[routeIndex].latlng;\r\n    this.chargeLevelClass = this._getChargeLevelClass();\r\n    this.gradient = `linear-gradient(to right,\r\n        #05c3dd ${Math.floor(this.charge)}%, #000000 10%, red ${Math.floor(\r\n      100 - this.charge\r\n    )}% )`;\r\n    this.description = this.getDescription();\r\n  }\r\n  getDescription() {\r\n    //\r\n\r\n    return `<div class=\"popup-veh-content ${this._getChargeLevelClass()}\" >${\r\n      this.name\r\n    } <br/> Charge Level ${this.charge} %</div>`;\r\n  }\r\n  _getChargeLevelClass() {\r\n    let chargeLevel = this.charge;\r\n    return `${\r\n      chargeLevel > 75\r\n        ? \"charged\"\r\n        : chargeLevel > 25\r\n        ? \"charge-warning\"\r\n        : \"charge-alert\"\r\n    }`;\r\n  }\r\n}\r\n\r\nexport default Vehicle;\r\n","import React from \"react\";\r\nimport L from \"leaflet\";\r\nimport { Regions } from \"../../data/fleetData\";\r\n// import FleetList from \"./FleetList\";\r\nimport Vehicle from \"./Vehicle\";\r\n\r\nimport \"./Map.css\";\r\n\r\nclass Map extends React.Component {\r\n  #map;\r\n  #mapEvent;\r\n  #mapZoomLevel = 6;\r\n  #marker;\r\n  #coords;\r\n  #interval = 3000;\r\n\r\n  #region = Regions[\"NorthEast\"];\r\n  #fleet = this.#region.fleet;\r\n\r\n  #fleetVehicles = [];\r\n  #fleetListEl;\r\n\r\n  componentDidMount() {\r\n    this.#fleetListEl = document.querySelector(\".fleet-list-container\");\r\n    window.addEventListener(\"load\", (event) => {\r\n      this._getPosition();\r\n    });\r\n  }\r\n\r\n  _getPosition() {\r\n    // get region from sidebar\r\n\r\n    if (this.#map) this.#map.remove();\r\n    this._loadMap();\r\n  }\r\n\r\n  _loadMap = () => {\r\n    this.#coords = this.#region.latlng;\r\n    this.#map = L.map(\"map\").setView(this.#coords, this.#mapZoomLevel);\r\n    // console.log(map)\r\n    // L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    L.tileLayer(\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\", {\r\n      attribution:\r\n        '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\r\n    }).addTo(this.#map);\r\n\r\n    this.#map.on(\"click\", (mapE) => {\r\n      const { lat, lng } = mapE.latlng;\r\n      this.renderMarker([lat, lng]);\r\n    });\r\n    this._renderFleet(this.#region);\r\n  };\r\n  _renderFleet() {\r\n    this.#fleet.forEach((veh) => {\r\n      const fleetVehicle = new Vehicle(veh);\r\n      this.#fleetVehicles = [...this.#fleetVehicles, fleetVehicle];\r\n      this._renderFleetUpdates(fleetVehicle);\r\n    });\r\n  }\r\n  LeafIcon = L.Icon.extend({\r\n    options: {\r\n      shadowUrl: \"brightdrop/logo-pin-shadow.png\",\r\n      iconSize: [38, 38],\r\n      shadowSize: [38, 38],\r\n      iconAnchor: [0, 38],\r\n      shadowAnchor: [-4, 34],\r\n      popupAnchor: [19, -38],\r\n    },\r\n  });\r\n  renderMarker(latlng, description = \"\", className = \"\") {\r\n    this.#coords = latlng;\r\n    console.log(\"renderMarker\");\r\n    let bdPinIcon = new this.LeafIcon({\r\n      iconUrl: \"brightdrop/logo-pin-blue.png\",\r\n    });\r\n    this.#marker = L.marker(this.#coords, { icon: bdPinIcon })\r\n      // L.marker(coords)\r\n      .addTo(this.#map)\r\n      .bindPopup(\r\n        L.popup({\r\n          maxWidth: 250,\r\n          minWidth: 100,\r\n          autoClose: false,\r\n          closeOnClick: false,\r\n          className: `${className}`,\r\n        })\r\n      )\r\n      .setPopupContent(\r\n        description.length ? description : `POP UP${this.#coords}`\r\n      )\r\n      .openPopup();\r\n    return this.#marker;\r\n  }\r\n  _renderListItem(vehicle) {\r\n    return `\r\n        <div class=\"item sidebar-list-item \" style='background: ${vehicle.gradient}'>\r\n        <div class=\"content sidebar-list-content\">\r\n          ${vehicle.name} \r\n          <span class='${vehicle.class}'>Charge = ${vehicle.charge} %</span>\r\n        </div>\r\n      </div>\r\n      `;\r\n  }\r\n  renderVehicleToList(vehicle) {\r\n    const html = `\r\n    <div class='${vehicle.class}'>\r\n    ${this._renderListItem(vehicle)}\r\n      </div>\r\n    </div>\r\n    `;\r\n\r\n    this.#fleetListEl.insertAdjacentHTML(\"beforeend\", html);\r\n  }\r\n  _renderUpdateToList(vehicle) {\r\n    document.querySelector(\r\n      `.${vehicle.class}`\r\n    ).innerHTML = this._renderListItem(vehicle);\r\n  }\r\n  render() {\r\n    return <div></div>;\r\n  }\r\n  _renderFleetUpdates(fleetVehicle) {\r\n    const timerId = setInterval(() => {\r\n      let routeIndex = fleetVehicle.routeIndex;\r\n      let tripLog = fleetVehicle.tripLog;\r\n      let latlng = fleetVehicle.latlng;\r\n\r\n      if (routeIndex === 0) {\r\n        fleetVehicle._marker = this.renderMarker(\r\n          latlng,\r\n          fleetVehicle.description\r\n          // fleetVehicle.chargeLevelClass\r\n        );\r\n        this.renderVehicleToList(fleetVehicle);\r\n      } else {\r\n        // console.log(\"move marker\", this.#marker);\r\n        fleetVehicle._marker.setLatLng(latlng);\r\n        fleetVehicle._marker.setPopupContent(fleetVehicle.description);\r\n\r\n        this._renderUpdateToList(fleetVehicle);\r\n      }\r\n\r\n      if (routeIndex >= tripLog.length - 1) {\r\n        clearInterval(timerId);\r\n      } else {\r\n        routeIndex = routeIndex + 1;\r\n        fleetVehicle._setCurrentTripDetail(routeIndex);\r\n      }\r\n    }, this.#interval);\r\n  }\r\n}\r\nexport default Map;\r\n","import React from \"react\";\r\n\r\nimport \"./App.css\";\r\n\r\nimport Header from \"./Header\";\r\n\r\nimport Map from \"./fleet/Map\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"ui \">\r\n      <Header />\r\n      <div className=\"ui mobile reversed stackable grid bd_content\">\r\n        <div className=\"ui four wide column black inverted\">\r\n          <div className=\"ui segment padded black inverted\">\r\n            <h2>Mid West Region</h2>\r\n\r\n            <div className=\"ui inverted relaxed divided list fleet-list-container\"></div>\r\n          </div>\r\n        </div>\r\n        <div className=\"ui twelve wide column blue inverted\" id=\"map\">\r\n          <Map />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport Root from \"./Root\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <Root>\r\n    <App />\r\n  </Root>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}